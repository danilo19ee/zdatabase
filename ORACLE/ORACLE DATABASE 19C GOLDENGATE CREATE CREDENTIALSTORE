++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+   ORACLE DATABASE 19C GOLDENGATE CREATE CREDENTIALSTORE    +
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

ADD CREDENTIALSTORE command it’s used to create a credential store for oracle goldengate. 
The credential store manages user IDs and their encrypted passwords that are used by Oracle GoldenGate processes to communicate with the local database. 
The credential store avoid’s to specify the user names and clear-text passwords in the Oracle GoldenGate parameter files.
The ADD CREDENTIALSTORE is a new command in Oracle GoldenGate 19c and the default location of the credential store is "$GGHOME/dircrd" directory of the GoldenGate software home.

* CHECK THAT THE DATABASE IS IN ARCHIVELOG MODE.
* CREATE THE TABLESPACES FOR GOLDENGATE
* CREATE THE USER FOR GOLDENGATE ‘C ## OGGUSER’
* GRANT THE PRIVILEGES TO THE ‘C ## OGGUSER’ USER
* ADD SUPPLEMENTAL LOGS TO THE DATABASE   

sqlplus / as sysdba

SQL*Plus: Release 19.0.0.0.0 - Production on Tue Sep 15 20:22:07 2020
Version 19.5.0.0.0

Copyright (c) 1982, 2019, Oracle.  All rights reserved.


Connected to:
Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
Version 19.5.0.0.0

SQL> ALTER DATABASE FORCE LOGGING;

Database altered.

SQL> ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;

Database altered.

SQL> select SUPPLEMENTAL_LOG_DATA_MIN,FORCE_LOGGING from v$database;

SUPPLEME FORCE_LOGGING
-------- ---------------------------------------
YES      YES

SQL> ALTER SYSTEM SET ENABLE_GOLDENGATE_REPLICATION=TRUE SCOPE=BOTH;

System altered.

SQL> show parameter ENABLE_GOLDENGATE_REPLICATION;

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
enable_goldengate_replication        boolean     TRUE

SQL> select name from v$pdbs;

NAME
--------------------------------------------------------------------------------
PDB$SEED
APPSPDB

SQL> create tablespace GOLDENGATE datafile '/u01/app/oracle/oradata/APPSCDB/goldengate01.dbf' size 1g autoextend on next 50m maxsize 10g;

Tablespace created.

SQL> alter session set "_ORACLE_SCRIPT"=true;

Session altered.

SQL> commit;

Commit complete.

SQL> create user gguser identified by ****** default tablespace goldengate quota unlimited on goldengate;

User created.

SQL> grant dba, create session,connect,resource,alter system to gguser container=ALL;

Grant succeeded.

SQL> EXEC DBMS_GOLDENGATE_AUTH.GRANT_ADMIN_PRIVILEGE(grantee=>'gguser',privilege_type=>'CAPTURE', grant_optional_privileges=>'*');

PL/SQL procedure successfully completed.

SQL> EXEC DBMS_GOLDENGATE_AUTH.GRANT_ADMIN_PRIVILEGE(grantee=>'gguser',privilege_type=>'APPLY', grant_optional_privileges=>'*');

PL/SQL procedure successfully completed.

SQL> @/u01/app/oracle/product/gg/marker_setup.sql

Marker setup script

You will be prompted for the name of a schema for the Oracle GoldenGate database objects.
NOTE: The schema must be created prior to running this script.
NOTE: Stop all DDL replication before starting this installation.

Enter Oracle GoldenGate schema name:gguser


Marker setup table script complete, running verification script...
Please enter the name of a schema for the GoldenGate database objects:
Setting schema name to GGUSER

MARKER TABLE
-------------------------------
OK

MARKER SEQUENCE
-------------------------------
OK

Script complete.



SQL> exit
Disconnected from Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
Version 19.5.0.0.0

/u01/app/oracle/product/gg/ggsci

Oracle GoldenGate Command Interpreter for Oracle
Version 19.1.0.0.4 OGGCORE_19.1.0.0.0_PLATFORMS_191017.1054_FBO
Solaris, x64, 64bit (optimized), Oracle 19c on Oct 19 2019 22:24:03
Operating system character set identified as US-ASCII.

Copyright (C) 1995, 2019, Oracle and/or its affiliates. All rights reserved.



GGSCI (solaris19c) 1> CREATE SUBDIRS

Creating subdirectories under current directory /u01/app/oracle/product/gg

Parameter file                 /u01/app/oracle/product/gg/dirprm: already exists.
Report file                    /u01/app/oracle/product/gg/dirrpt: already exists.
Checkpoint file                /u01/app/oracle/product/gg/dirchk: already exists.
Process status files           /u01/app/oracle/product/gg/dirpcs: already exists.
SQL script files               /u01/app/oracle/product/gg/dirsql: already exists.
Database definitions files     /u01/app/oracle/product/gg/dirdef: already exists.
Extract data files             /u01/app/oracle/product/gg/dirdat: already exists.
Temporary files                /u01/app/oracle/product/gg/dirtmp: already exists.
Credential store files         /u01/app/oracle/product/gg/dircrd: already exists.
Masterkey wallet files         /u01/app/oracle/product/gg/dirwlt: already exists.
Dump files                     /u01/app/oracle/product/gg/dirdmp: already exists.

GGSCI (solaris19c) 2> dblogin userid gguser, password ******;
Successfully logged into database CDB$ROOT.


https://oraexpertacademy.wordpress.com/2019/01/06/ddl-replication-from-source-to-target-using-goldengate/
